<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>添加影片</title>
    <div th:replace="pub/head_meta"/>
    <div th:replace="pub/head_link"/>
    <div th:replace="pub/head_script"/>

    <!--=====================CSS_Link===========================-->
    <link rel="stylesheet" href="/static/plugins/uploadify/uploadify.css" type="text/css">
    <link th:href="@{/static/css/manager/film.css}" type="text/css" rel="stylesheet">
    <link th:href="@{/static/plugins/layui/css/layui.css}" type="text/css" rel="stylesheet">
    <!--=====================JS_Link===========================-->
    <script type="text/javascript" src="/static/plugins/uploadify/jquery.uploadify.min.js"></script>
    <script type="text/javascript" src="/static/plugins/layui/layui.js"></script>


</head>
<body>
<div class="container-fluid">
    <div class="row">
        <div class="col">
            <div style="width:100%; height: auto;overflow:hidden;margin: 0px auto;">
                <ul class="film-info">
                    <li class="title">
                        <div class="left-con">添加影片</div>
                        <div class="right-con"></div>
                    </li>
                    <li>
                        <div class="left-con">片名:</div>
                        <div class="right-con">
                            <div class="update" th:if="${film!=null}">
                                <div class="label">
                                    <span class="show" href="javascript:;" th:text="${film.name}"></span>
                                    <a href="javascript:;" class="btn edit">编辑</a>
                                </div>
                                <div class="label-input">
                                    <input class="input update-input" placeholder="请填写影片名称" autocomplete="off" el="div"
                                           name="name" th:value="${film.name}"/>
                                    <a href="javascript:;" class="btn save" th:filmId="${film.id}">保存</a>
                                    <a href="javascript:;" class="btn cancel">取消</a>
                                </div>
                            </div>

                            <input th:if="${film==null}" class="input addFilmInput" id="name" placeholder="请填写影片名称"
                                   autocomplete="off" />
                            <span th:if="${film==null}" style="color:red;">*</span>
                        </div>
                    </li>
                    <li>
                        <div class="left-con">海报:</div>
                        <div class="right-con">
                            <div  th:if="${film!=null}" class="update">
                                <div class="label">
                                    <span class="show" href="javascript:;" th:text="${film.image}"></span>
                                    <a href="javascript:;" class="btn edit">编辑</a>
                                </div>
                                <div class="label-input">
                                <textarea class="input contentType update-input" placeholder="请填写海报链接" autocomplete="off" el="div"
                                          name="image" th:text="${film.image}"></textarea>
                                    <a href="javascript:;" class="btn save" th:filmId="${film.id}">保存</a>
                                    <a href="javascript:;" class="btn cancel">取消</a>
                                </div>
                            </div>
                            <textarea th:if="${film==null}" class="input contentType addFilmInput" placeholder="请填写海报链接" autocomplete="off" id="image"></textarea>
                            <span th:if="${film==null}" style="color:red;">*</span>
                        </div>
                    </li>
                    <li>
                        <div class="left-con">上映年代:</div>
                        <div class="right-con">
                            <div th:if="${film!=null}"  class="update">
                                <div class="label">
                                    <span class="show" href="javascript:;" th:text="${film.onDecade}"></span>
                                    <a href="javascript:;" class="btn edit">编辑</a>
                                </div>
                                <div class="label-input">
                                    <select class="input fixSelect update-input" el="select" name="onDecade">
                                            <option th:each="decadeList_list:${decadeList}" th:value="${decadeList_list.name}" th:text="${decadeList_list.name}"></option>
                                    </select>
                                    <a href="javascript:;" class="btn save" th:filmId="${film.id}">保存</a>
                                    <a href="javascript:;" class="btn cancel">取消</a>
                                </div>
                            </div>

                            <select th:if="${film==null}"    id="onDecade" class="input fixSelect">
                                <option th:each="decadeList_list:${decadeList}" th:value="${decadeList_list.name}" th:text="${decadeList_list.name}"></option>
                            </select>
                            <span th:if="${film==null}" style="color:red;">*</span>
                        </div>
                    </li>
                    <li>
                        <div class="left-con">状态:</div>
                        <div class="right-con">
                            <div  th:if="${film!=null}" class="update">
                                <div class="label">
                                    <span class="show" href="javascript:;" th:text="${film.status}"></span>
                                    <a href="javascript:;" class="btn edit">编辑</a>
                                </div>
                                <div class="label-input">
                                    <input class="input update-input" placeholder="全集/更新第几集" autocomplete="off" el="div"
                                           name="status" th:value="${film.status}"/>
                                    <a href="javascript:;" class="btn save" th:filmId="${film.id}">保存</a>
                                    <a href="javascript:;" class="btn cancel">取消</a>
                                </div>
                            </div>

                            <input th:if="${film==null}" class="input addFilmInput" value="全集" placeholder="全集/更新第几集" autocomplete="off" id="status"/>
                            <span th:if="${film==null}" style="color:red;">*</span>

                        </div>
                    </li>
                    <li>
                        <div class="left-con">分辨率:</div>
                        <div class="right-con">
                            <div th:if="${film!=null}" class="update">
                                <div class="label">
                                    <span class="show" href="javascript:;" th:text="${film.resolution}"></span>
                                    <a href="javascript:;" class="btn edit">编辑</a>
                                </div>
                                <div class="label-input">
                                    <select name="resolution" class="input fixSelect update-input" el="select">
                                        <option value="1080">1080p</option>
                                        <option value="720">720p</option>
                                        <option value="480">480p</option>
                                    </select>

                                    <a href="javascript:;" class="btn save" th:filmId="${film.id}">保存</a>
                                    <a href="javascript:;" class="btn cancel">取消</a>
                                </div>
                            </div>

                            <select th:if="${film==null}" id="resolution" class="input fixSelect">
                                <option value="1080">1080p</option>
                                <option value="720">720p</option>
                                <option value="480">480p</option>
                            </select>
                            <span th:if="${film==null}" style="color:red;">*</span>
                        </div>
                    </li>
                    <li>
                        <div class="left-con">类型:</div>
                        <div class="right-con">
                            <div th:if="${film!=null}"  class="update">
                                <div class="label">
                                    <span class="show" href="javascript:;" th:text="${film.typeName}"></span>
                                    <a href="javascript:;" class="btn edit">编辑</a>
                                </div>
                                <div class="label-input">
                                    <select  class="cataLogId_subClass input fixSelect">
                                         <option th:each="cataLogList_var:${cataLogList}" th:value="${cataLogList_var.id}" th:text="${cataLogList_var.name}"></option>
                                    </select>&nbsp;
                                    <select class="subClassId input fixSelect"></select>&nbsp;
                                    <select name="typeName" name1="type_id" class="type_id input fixSelect update-input"
                                            id="type_id" el="select"></select>

                                    <a href="javascript:;" class="btn save" th:filmId="${film.id}">保存</a>
                                    <a href="javascript:;" class="btn cancel">取消</a>
                                </div>
                            </div>

                            <select th:if="${film==null}"  class="cataLogId_subClass input fixSelect">
                               <option th:each="cataLogList_var:${cataLogList}" th:value="${cataLogList_var.id}" th:text="${cataLogList_var.name}"></option>
                            </select>&nbsp;
                            <select th:if="${film==null}" class="subClassId input fixSelect"></select>&nbsp;
                            <select th:if="${film==null}" class="type_id input fixSelect" id="type_id"></select>
                            <span th:if="${film==null}" style="color:red;">*</span>
                        </div>
                    </li>
                    <li>
                        <div class="left-con">演员:</div>
                        <div class="right-con">
                            <div th:if="${film!=null}" class="update">
                                <div class="label">
                                    <span class="show" href="javascript:;" th:text="${film.actor}"></span>
                                    <a href="javascript:;" class="btn edit">编辑</a>
                                </div>
                                <div class="label-input">
                                    <input class="input  update-input" placeholder="请填写演员名称，多个演员请用逗号隔开" autocomplete="off" el="div"
                                           name="actor" th:value="${film.actor}"/>
                                    <a href="javascript:;" class="btn save" th:filmId="${film.id}">保存</a>
                                    <a href="javascript:;" class="btn cancel">取消</a>
                                </div>
                            </div>

                                <input th:if="${film==null}" class="input  addFilmInput" placeholder="请填写演员名称，多个演员请用逗号隔开" autocomplete="off" id="actor"/>
                                <span th:if="${film==null}" style="color:red;">*</span>
                        </div>
                    </li>
                    <li>
                        <div class="left-con">地区:</div>
                        <div class="right-con">

                            <div th:if="${film!=null}" class="update">
                                <div class="label">
                                    <span class="show" href="javascript:;" th:text="${film.locName}"></span>
                                    <a href="javascript:;" class="btn edit">编辑</a>
                                </div>
                                <div class="label-input">
                                    <select name="locName" th:each="locList_list:${locList}" name1="loc_id" class="input fixSelect update-input"
                                            el="select">
                                            <option th:value="${locList_list.id}" th:text="${locList_list.name}"></option>
                                    </select>
                                    <a href="javascript:;" class="btn save" th:filmId="${film.id}">保存</a>
                                    <a href="javascript:;" class="btn cancel">取消</a>
                                </div>
                            </div>

                            <select th:if="${film==null}"   id="locName" class="input fixSelect">
                                    <option th:each="locList_list:${locList}" th:value="${locList_list.id}" th:text="${locList_list.name}"></option>
                            </select>
                            <span th:if="${film==null}" style="color:red;">*</span>
                        </div>
                    </li>
                    <li>
                        <div class="left-con">剧情:</div>
                        <div class="right-con">
                            <div  th:if="${film!=null}" class="update">
                                <div class="label">
                                    <span class="show" href="javascript:;" th:text="${film.plot}"></span>
                                    <a href="javascript:;" class="btn edit">编辑</a>
                                </div>
                                <div class="label-input">
                                <textarea class="input contentType update-input" placeholder="请简短填写剧情介绍" autocomplete="off" el="div"
                                          name="plot" th:text="${film.plot}"></textarea>
                                    <a href="javascript:;" class="btn save" th:filmId="${film.id}">保存</a>
                                    <a href="javascript:;" class="btn cancel">取消</a>
                                </div>
                            </div>

                            <textarea th:if="${film==null}" class="input contentType addFilmInput" placeholder="请简短填写剧情介绍" autocomplete="off" id="plot"></textarea>
                            <span th:if="${film==null}" style="color:red;">*</span>

                        </div>
                    </li>
                    <li>
                        <div class="left-con">是否vip:</div>
                        <div class="right-con">
                            <div  th:if="${film!=null}" class="update">
                                <div class="label">
                                    <a class="show" href="javascript:;">
                                        <span th:if="${film.isVip==1}">是</span>
                                        <span th:if="${film.isVip==0}">否</span>
                                    </a>
                                    <a href="javascript:;" class="btn edit">编辑</a>
                                </div>
                                <div class="label-input">

                                    <select th:if="${film.isVip==1}" name="isVip"  id="isVip"  class="input fixSelect update-input" el="select">
                                        <option value="">请选择</option>
                                        <option value="1" selected>是</option>
                                        <option value="0">否</option>
                                    </select>
                                    <select th:if="${film.isVip==0}" name="isVip"  id="isVip"  class="input fixSelect update-input" el="select">
                                        <option value="">请选择</option>
                                        <option value="1">是</option>
                                        <option value="0" selected>否</option>
                                    </select>
                                    <a href="javascript:;" class="btn save" th:filmId="${film.id}">保存</a>
                                    <a href="javascript:;" class="btn cancel">取消</a>
                                </div>
                            </div>

                            <select th:if="${film==null}" name="isVip"  id="isVip" class="input fixSelect update-input" el="select">
                                <option value="">请选择</option>
                                <option value="1">是</option>
                                <option value="0">否</option>
                            </select>
                            <span  th:if="${film==null}" style="color:red;">*</span>
                        </div>
                    </li>

                    <!--视频格式-->
                    <li>
                        <div class="left-con">视频格式:</div>
                        <div class="right-con">
                         <select id="format" name="format" class="input fixSelect update-input" el="select">
                             <option value="1">mp4</option>
                             <option value="2">webm</option>
                             <option value="3">ogv</option>
                             <option value="4">m3u8</option>
                         </select>
                        </div>

                    </li>
                    <!--链接-->
                    <li>
                        <div class="left-con">链接:</div>
                        <div class="right-con">
                            <div  th:if="${film!=null}" class="update">
                                <div class="label">
                                    <span class="show" href="javascript:;" th:text="${film.link}"></span>
                                    <a href="javascript:;" class="btn edit">编辑</a>
                                </div>
                                <div class="label-input">
                                <textarea class="input contentType update-input" placeholder="请填写视频播放链接" autocomplete="off" el="div"
                                          name="plot" th:text="${film.link}"></textarea>
                                    <a href="javascript:;" class="btn save" th:filmId="${film.id}">保存</a>
                                    <a href="javascript:;" class="btn cancel">取消</a>
                                </div>
                            </div>
                            <textarea th:if="${film==null}" class="input contentType addFilmInput" placeholder="请填写视频播放链接" autocomplete="off" id="link"></textarea>
                            <span th:if="${film==null}" style="color:red;">*</span>
                        </div>
                    </li>


                    <li>
                        <div class="left-con"></div>
                        <div class="right-con" th:if="${film==null}" >
                            <a href="javascript:;" class="btn" id="addFilm-btn">添加影片</a>
                            <a href="javascript:;" class="btn" onclick="clearAddFilmInput()">清空</a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<script th:src="@{/static/js/manager/film.js}" ></script>
<script>
    layui.config({
    }).extend({
    }).use(['table','layer','upload','form','laydate'], function(){
        var form = layui.form
            ,$ = layui.$ //重点处
            ,upload = layui.upload
            ,layer = layui.layer
            ,laydate=layui.laydate;

     /*   //普通图片上传
        var uploadInst = upload.render({
            elem: '#test1'
            , url: '/upload/file/save' //改成您自己的上传接口
            , accept: "image"
            , before: function (obj) {
                //预读本地文件示例，不支持ie8
                obj.preview(function (index, file, result) {
                    $('#demo1').attr('src', result); //图片链接（base64）
                });
            }
            , done: function (res) {
                //如果上传失败
                if (res == null || res == '') {
                    return layer.msg('上传失败');
                }
                console.log(res);
                $("#path").val(res.path);

            }
            , error: function () {
                //演示失败状态，并实现重传
                var demoText = $('#demoText');
                demoText.html('<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-xs demo-reload">重试</a>');
                demoText.find('.demo-reload').on('click', function () {
                    uploadInst.upload();
                });
            }
        });*/
        });


</script>

</body>
</html>